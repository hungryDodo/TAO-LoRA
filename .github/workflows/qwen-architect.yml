name: ğŸ§  Qwen Architect
on:
  schedule:
    - cron: '0 */4 * * *' # æ¯4å°æ—¶è¿è¡Œä¸€æ¬¡
  workflow_dispatch: # æ”¯æŒæ‰‹åŠ¨è§¦å‘

jobs:
  planning:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Architect Agent
        uses: qwenlm/qwen-code-action@v1
        with:
          qwen-token: ${{ secrets.QWEN_TOKEN }}
          model: 'qwen-2.5-coder-32b-instruct'
          task: "planning"
          prompt: |
            ä½ æ˜¯é¡¹ç›®çš„é¦–å¸­æ¶æ„å¸ˆã€‚è¯·æ‰§è¡Œä»¥ä¸‹ Spec-kit ç®¡ç†æµç¨‹ï¼š
            1. è¯»å– `spec-kit/plan.md`ï¼Œè¯†åˆ«æœªæ ‡è®°ä¸º 'Completed' çš„ Milestoneã€‚
            2. æ£€æŸ¥ `specs/` ç›®å½•ï¼Œçœ‹æ˜¯å¦æœ‰å¯¹åº”çš„ Spec æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·åˆ›å»ºä¸€ä¸ª `specs/xxx.md` è‰ç¨¿ã€‚
            3. å¦‚æœå‘ç°æœ‰ `Status: Draft` çš„ Specï¼Œè¯·æ ¹æ®ä½ çš„æŠ€æœ¯çŸ¥è¯†è¡¥å……è¯¦ç»†çš„æ¥å£å®šä¹‰ã€æ•°æ®ç»“æ„å’Œæµ‹è¯•è®¡åˆ’ï¼Œå¹¶å°†çŠ¶æ€æ”¹ä¸º `Review_Needed`ã€‚
            4. æ‰«æ Issue åˆ—è¡¨ï¼Œå¦‚æœå‘ç°æœ‰ Spec å·²ç»å‡†å¤‡å¥½ä½†æ²¡æœ‰ Issueï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–° Issueï¼Œæ‰“ä¸Šæ ‡ç­¾ `qwen-build`ã€‚
